# Базовый образ
FROM node:13.12.0-alpine as build
# Рабочий каталог
WORKDIR /app
# Копирование файлов с расширением «.json», начинающихся на «package»
# и далее с любой последовательностью символов, с хост-компьютера в образ
COPY package*.json ./
# Запуск команды установки менеджера пакетов
# node package manager  внутри образа в процессе сборки
RUN npm install
# Копирование файлов или каталогов из контекста сборки
# (текущий каталог, в котором находится Dockerfile) в рабочий каталог
COPY . ./
# Запуск процесса сборки приложения
RUN npm run build
# Команда будет выполняться при запуске контейнера на основе образа
CMD cp -r build result_build
